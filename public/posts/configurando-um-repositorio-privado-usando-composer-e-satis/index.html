<!DOCTYPE html>
<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<meta property="og:title" content="Configurando um reposit√≥rio privado usando Composer e Satis">
<meta property="og:description" content="Recentemente eu precisei incluir um reposit√≥rio do Git cujo acesso √© privado em um projeto que estou trabalhando
na Coderockr e este reposit√≥rio deveria ser importado no projeto por meio do composer, talvez
isso n√£o seja novidade para voc√™, mas, para mim √© pelo fato de eu nunca ter precisado criar um ambiente acess√≠vel
pelo composer que utilizasse um reposit√≥rio git privado.
Como faz?
Ap√≥s algumas pesquisas eu encontrei o projeto Satis, que pelo que pude compreender
√© mantido pelos mesmos desenvolvedores que mant√©m o composer.">
<meta property="og:url" content="http://localhost:1313/posts/configurando-um-repositorio-privado-usando-composer-e-satis/">
<meta property="og:site_name" content="Adler Medrado&#39;s corner of the web">

<meta property="og:type" content="article">


<meta property="og:image" content="/images/default-og-image.png">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Configurando um reposit√≥rio privado usando Composer e Satis">
<meta name="twitter:description" content="Recentemente eu precisei incluir um reposit√≥rio do Git cujo acesso √© privado em um projeto que estou trabalhando
na Coderockr e este reposit√≥rio deveria ser importado no projeto por meio do composer, talvez
isso n√£o seja novidade para voc√™, mas, para mim √© pelo fato de eu nunca ter precisado criar um ambiente acess√≠vel
pelo composer que utilizasse um reposit√≥rio git privado.
Como faz?
Ap√≥s algumas pesquisas eu encontrei o projeto Satis, que pelo que pude compreender
√© mantido pelos mesmos desenvolvedores que mant√©m o composer.">

<meta name="twitter:image" content="/images/default-og-image.png">


    <title>Configurando um reposit√≥rio privado usando Composer e Satis</title>
    <meta name="description" content="Recentemente eu precisei incluir um reposit√≥rio do Git cujo acesso √© privado em um projeto que estou trabalhando
na Coderockr e este reposit√≥rio deveria ser importado no projeto por meio do composer, talvez
isso n√£o seja novidade para voc√™, mas, para mim √© pelo fato de eu nunca ter precisado criar um ambiente acess√≠vel
pelo composer que utilizasse um reposit√≥rio git privado.
Como faz?
Ap√≥s algumas pesquisas eu encontrei o projeto Satis, que pelo que pude compreender
√© mantido pelos mesmos desenvolvedores que mant√©m o composer.">
    <link rel="author" href="/humans.txt"/>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="canonical" href="http://localhost:1313/posts/configurando-um-repositorio-privado-usando-composer-e-satis/"/>
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body><header class="glitch-zone">
    <nav class="navbar" role="navigation" aria-label="Main Navigation">
        <div class="navbar_left">
            <a href="/" class="h-card" rel="me">
                <strong>Adler Medrado<span class="cursor-blink">|</span></strong>
            </a>
        </div>
        <div class="navbar_right navbar_right_animated">
            <a href="/about">about</a>
            <a href="/projects">projects</a>
            <a href="/posts">posts</a>
            <a href="/missives">missives</a>
            <a href="/now">what am i doing now</a>
            <a href="/uses">what am i using</a>
            <a href="/contact">contact</a>
            <a href="/index.xml" aria-label="RSS feed">rss</a>
        </div>
    </nav>
</header>
<main>
<section class="section">
    <article>
        <div>
            <h1>Configurando um reposit√≥rio privado usando Composer e Satis</h1>
            <div>
                <div>
                    <p>
                        <small>
                            <time>June 21, 2015</time>
                            |
                            2  minutes  read
                        </small>
                        
                        <div class="post-tags">
                            <p>
                                <strong>Tags:</strong>
                                
                                <a href="/tags/php">php</a>, 
                                
                                <a href="/tags/composer">composer</a>, 
                                
                                <a href="/tags/satis">satis</a>
                                
                            </p>
                        </div>
                        
                    </p>
                </div>
                <span class="line_break"></span>
            </div>
            <div class="content">
                <p>Recentemente eu precisei incluir um reposit√≥rio do Git cujo acesso √© privado em um projeto que estou trabalhando
na <a href="http://coderockr.com">Coderockr</a> e este reposit√≥rio deveria ser importado no projeto por meio do composer, talvez
isso n√£o seja novidade para voc√™, mas, para mim √© pelo fato de eu nunca ter precisado criar um ambiente acess√≠vel
pelo <a href="https://getcomposer.org">composer</a> que utilizasse um reposit√≥rio git privado.</p>
<h4 id="como-faz">Como faz?</h4>
<p>Ap√≥s algumas pesquisas eu encontrei o projeto <a href="https://github.com/composer/satis">Satis</a>, que pelo que pude compreender
√© mantido pelos mesmos desenvolvedores que mant√©m o composer.</p>
<p>O uso dele √© bem simples e eu tentarei descrever os passos de uma forma bem simples e objetiva:</p>
<h4 id="instale-o-composer">Instale o Composer</h4>
<p>Se ainda n√£o o tiver feito, <a href="https://getcomposer.org/doc/00-intro.md">(aprenda como)</a>.</p>
<h4 id="instale-o-satis">Instale o Satis</h4>
<p>Crie um projeto usando o composer, basta rodar o seguinte comando no terminal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php composer.phar create-project composer/satis --stability<span style="color:#f92672">=</span>dev --keep-vcs
</span></span></code></pre></div><h4 id="configure-o-para-prover-o-acesso-ao-seu-reposit√≥rio-privado">Configure-o para prover o acesso ao seu reposit√≥rio privado</h4>
<p>A primeira coisa que deve ser feita √© criar um arquivo chamado satis.json no<br>
root do projeto que foi criado acima, segue um exemplo deste arquivo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Reposit√≥rio Local&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;homepage&#34;</span>: <span style="color:#e6db74">&#34;http://localhost:8888&#34;</span>,  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;archive&#34;</span>: {  
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;skip-dev&#34;</span>: <span style="color:#66d9ef">true</span>  
</span></span><span style="display:flex;"><span>    },  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;repositories&#34;</span>: [  
</span></span><span style="display:flex;"><span>        { <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;vcs&#34;</span>, <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;https://url-para-seu-repositorio-git/nome-do-seu-repositorio.git&#34;</span> }  
</span></span><span style="display:flex;"><span>    ],  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;require&#34;</span>: {  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;seu-pacote/sua-lib&#34;</span>: <span style="color:#e6db74">&#34;\*&#34;</span>  
</span></span><span style="display:flex;"><span>    }  
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Como pode ser observado acima, eu configuro com o reposit√≥rio que eu quero disponibilizar, se precisar colocar mais do
que um reposit√≥rio basta adicionar outro elemento no array <em>repositories</em>.</p>
<p>Em seguida, informe o nome do seu pacote/library e qual vers√£o deseja usar.</p>
<p>Acima, no atributo homepage √© informado qual o endere√ßo local que ser√° usado para servir o projeto. Voc√™ pode usar uma
URL diferente de localhost sem problemas.</p>
<h4 id="fa√ßa-a-build-do-seu-reposit√≥rio">Fa√ßa a <em>build</em> do seu reposit√≥rio</h4>
<p>Execute o comando abaixo sempre que houver mudan√ßas no seu reposit√≥rio:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php bin/satis build &lt;configuration file&gt; &lt;build dir&gt;
</span></span></code></pre></div><p>Por exemplo, eu rodei assim:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php bin/satis build satis.json repo
</span></span></code></pre></div><p>O diret√≥rio repo ser√° usado para disponibilizar os fontes do reposit√≥rio privado.</p>
<h4 id="disponibilize-o-reposit√≥rio">Disponibilize o reposit√≥rio</h4>
<p>Voc√™ pode criar um virtual host apontando para o diret√≥rio <em>repo</em>, mas dependendo do caso, usar o webserver embutido no
CLI do PHP:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php -S 0.0.0.0:8888 -t repo
</span></span></code></pre></div><p>Ap√≥s rodar o comando acima (ou configurar um virtual host), acesse: <a href="http://localhost:8888"><strong>http://localhost:8888</strong></a></p>
<p>Se for mostrada uma tela com os reposit√≥rios que voc√™ configurou eles poder√£o ser usados adicionando no composer.json do
seu projeto:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;repositories&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> [  
</span></span><span style="display:flex;"><span>    {  
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;composer&#34;</span>,  
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;http://localhost:8888&#34;</span>  
</span></span><span style="display:flex;"><span>    }  
</span></span><span style="display:flex;"><span>  ]<span style="color:#960050;background-color:#1e0010">,</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;require&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;seu-pacote/sua-lib&#34;</span>: <span style="color:#e6db74">&#34;dev-master&#34;</span>  
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h4 id="conclus√£o">Conclus√£o</h4>
<p>Existem muitas outras configura√ß√µes que podem ser feitas, mas essa configura√ß√£o b√°sica j√° ajuda na maioria das
situa√ß√µes.</p>
<p>Voc√™ conhece alguma outra maneira de lidar com uma situa√ß√£o como essa? Deixe seu coment√°rio.</p>

            </div>
        </div>
    </article>
    <div>
        <div>
            <div>
                
                <a href="http://localhost:1313/posts/liberdade/">&#8592; Liberdade</a>
                
                |
                
                <a href="http://localhost:1313/posts/migrando-para-o-atom/">Migrando para o Atom &#8594;</a>
                
            </div>
        </div>
    </div>
</section>

</main><footer class="glitch-zone" role="contentinfo">
    <div class="footer-content">
        <div class="copyright">
            <p><small>&copy; 1996-2025 Adler Medrado</small></p>
        </div>
        <div class="gpg_signed_info">
            <div class="gpg-callout">
                <div class="gpg-callout__icon" aria-hidden="true">üîè</div>
                <div class="gpg-callout__text">
                    <p class="gpg-callout__title">All pages are PGP signed.</p>
                    <p class="gpg-callout__subtitle">Learn how to verify my PGP signature <a class="gpg-callout__link" href="/posts/verify-signatures">here</a>.</p>
                </div>
            </div>
            <p>
                <em>Privacy policy: this website employs no tracking.</em>
            </p>
            <p>
                <span class="badge-a-plus"><a href="https://developer.mozilla.org/en-US/observatory/analyze?host=adlermedrado.com.br" aria-label="Mozilla Observatory Security Rating: A+">A+</a></span>
                <span class="badge-description">Mozilla Observatory Security Rating</span>
            </p>
        </div>
    </div>
</footer>
</body>
</html>
