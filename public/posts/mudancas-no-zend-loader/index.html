<!DOCTYPE html>
<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<meta property="og:title" content="Mudan√ßas no Zend_Loader">
<meta property="og:description" content="Com o advento da vers√£o 1.8.0 do Zend Framework algumas mudan√ßas no Zend_Loader ser√£o necess√°rias quando for utilizado o
autoload.
At√© ent√£o n√≥s habilit√°vamos o Zend_Loader no bootstrapper para usar o autoload da seguinte forma:
Zend_Loader::registerAutoload();
Com o c√≥digo acima, todas as classes incluindo as que utilizassem a estrutura de namespaces do ZF seriam inclusas no
pelo autoload no ato da cria√ß√£o de sua inst√¢ncia desde que estivessem no include_path, por√©m, esta maneira est√°
deprecated e com isso algumas mudan√ßas s√£o necess√°rias para que seu c√≥digo continue funcionando em vers√µes futuras e n√£o
receba um notice nas vers√µes atuais.">
<meta property="og:url" content="http://localhost:1313/posts/mudancas-no-zend-loader/">
<meta property="og:site_name" content="Adler Medrado&#39;s corner of the web">

<meta property="og:type" content="article">


<meta property="og:image" content="/images/default-og-image.png">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Mudan√ßas no Zend_Loader">
<meta name="twitter:description" content="Com o advento da vers√£o 1.8.0 do Zend Framework algumas mudan√ßas no Zend_Loader ser√£o necess√°rias quando for utilizado o
autoload.
At√© ent√£o n√≥s habilit√°vamos o Zend_Loader no bootstrapper para usar o autoload da seguinte forma:
Zend_Loader::registerAutoload();
Com o c√≥digo acima, todas as classes incluindo as que utilizassem a estrutura de namespaces do ZF seriam inclusas no
pelo autoload no ato da cria√ß√£o de sua inst√¢ncia desde que estivessem no include_path, por√©m, esta maneira est√°
deprecated e com isso algumas mudan√ßas s√£o necess√°rias para que seu c√≥digo continue funcionando em vers√µes futuras e n√£o
receba um notice nas vers√µes atuais.">

<meta name="twitter:image" content="/images/default-og-image.png">


    <title>Mudan√ßas no Zend_Loader</title>
    <meta name="description" content="Com o advento da vers√£o 1.8.0 do Zend Framework algumas mudan√ßas no Zend_Loader ser√£o necess√°rias quando for utilizado o
autoload.
At√© ent√£o n√≥s habilit√°vamos o Zend_Loader no bootstrapper para usar o autoload da seguinte forma:
Zend_Loader::registerAutoload();
Com o c√≥digo acima, todas as classes incluindo as que utilizassem a estrutura de namespaces do ZF seriam inclusas no
pelo autoload no ato da cria√ß√£o de sua inst√¢ncia desde que estivessem no include_path, por√©m, esta maneira est√°
deprecated e com isso algumas mudan√ßas s√£o necess√°rias para que seu c√≥digo continue funcionando em vers√µes futuras e n√£o
receba um notice nas vers√µes atuais.">
    <link rel="author" href="/humans.txt"/>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="canonical" href="http://localhost:1313/posts/mudancas-no-zend-loader/"/>
    <link href="/css/styles.css" rel="stylesheet">
</head>
<body><header class="glitch-zone">
    <nav class="navbar" role="navigation" aria-label="Main Navigation">
        <div class="navbar_left">
            <a href="/" class="h-card" rel="me">
                <strong>Adler Medrado<span class="cursor-blink">|</span></strong>
            </a>
        </div>
        <div class="navbar_right navbar_right_animated">
            <a href="/about">about</a>
            <a href="/projects">projects</a>
            <a href="/posts">posts</a>
            <a href="/missives">missives</a>
            <a href="/now">what am i doing now</a>
            <a href="/uses">what am i using</a>
            <a href="/contact">contact</a>
            <a href="/index.xml" aria-label="RSS feed">rss</a>
        </div>
    </nav>
</header>
<main>
<section class="section">
    <article>
        <div>
            <h1>Mudan√ßas no Zend_Loader</h1>
            <div>
                <div>
                    <p>
                        <small>
                            <time>May 28, 2009</time>
                            |
                            3  minutes  read
                        </small>
                        
                        <div class="post-tags">
                            <p>
                                <strong>Tags:</strong>
                                
                                <a href="/tags/zend-framework">zend-framework</a>
                                
                            </p>
                        </div>
                        
                    </p>
                </div>
                <span class="line_break"></span>
            </div>
            <div class="content">
                <p>Com o advento da vers√£o 1.8.0 do Zend Framework algumas mudan√ßas no Zend_Loader ser√£o necess√°rias quando for utilizado o
autoload.</p>
<p>At√© ent√£o n√≥s habilit√°vamos o Zend_Loader no bootstrapper para usar o autoload da seguinte forma:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#a6e22e">Zend_Loader</span><span style="color:#f92672">::</span><span style="color:#a6e22e">registerAutoload</span>();
</span></span></code></pre></div><p>Com o c√≥digo acima, todas as classes incluindo as que utilizassem a estrutura de namespaces do ZF seriam inclusas no
pelo autoload no ato da cria√ß√£o de sua inst√¢ncia desde que estivessem no include_path, por√©m, esta maneira est√°
deprecated e com isso algumas mudan√ßas s√£o necess√°rias para que seu c√≥digo continue funcionando em vers√µes futuras e n√£o
receba um notice nas vers√µes atuais.</p>
<h2 id="o-que-mudou-">O que mudou ?</h2>
<p>Foi criada uma nova classe chamada <em>Zend_Loader_Autoloader</em> que implementa algumas novas funcionalidades e facilita a
inclus√£o de bibliotecas externas √† nossa aplica√ß√£o. Para utilizarmos, basta criarmos uma inst√¢ncia dela no bootstrapper
conforme o exemplo abaixo e pronto.</p>
<h2 id="como-assim">Como assim?</h2>
<p>Antes de mostrar o c√≥digo vamos entender como a coisa funciona:</p>
<p>Ao criar uma inst√¢ncia da classe <em>Zend_Loader_Autoloader</em> no bootstrapper o ZF registra a regra de autoloading com
spl_autoload e assim o processo √© automatizado.</p>
<p>Quando a inst√¢ncia √© criada, o ZF j√° busca pelas classes dos namespaces <em>Zend_</em> e <em>ZendX_</em> automaticamente, por√©m qualquer
classe adicional n√£o ser√° encontrada.</p>
<p>Mas antes de resolver isso segue o c√≥digo que deve ser escrito para habilitar o autoload para <em>Zend_</em> e <em>ZendX_</em>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Inicializa o autoloader padr√£o para Zend_ e ZendX_
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$autoloader <span style="color:#f92672">=</span> <span style="color:#a6e22e">Zend_Loader_Autoloader</span><span style="color:#f92672">::</span><span style="color:#a6e22e">getInstance</span>();
</span></span></code></pre></div><p>Beleza. Agora vamos configurar para que outras classes sem namespace sejam inclu√≠das pelo autoload (lembrando que elas
devem estar no include_path).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Inicializa o autoloader padr√£o para Zend_ e ZendX_
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$autoloader<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">setFallbackAutoloader</span>(<span style="color:#66d9ef">true</span>);
</span></span></code></pre></div><h2 id="f√°cil-demais-n√£o-√©">F√°cil demais n√£o √©?</h2>
<p>Agora supondo que voc√™ crie o seu pr√≥prio namespace e por exemplo crie suas pr√≥prias classes usando heran√ßa e extendendo
classes do pr√≥prio ZF.</p>
<p>Quando eu fa√ßo isso eu normalmente uso o prefixo <em>Base_</em> para o meu namespace, ent√£o, para colocar este namespace no
autoload eu fa√ßo assim:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Registra o namespace Base_ no autoloader
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$autoloader<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">registerNamespace</span>(<span style="color:#e6db74">&#39;Base_&#39;</span>);
</span></span></code></pre></div><h2 id="tranquilo-certo">Tranquilo, certo?</h2>
<p>Bem, lembra de um post que coloquei aqui a algum tempo atr√°s que mostrava como integrar outras libs com o autoload do
ZF? Naquele caso foi integrando o ezComponentes com o ZF.</p>
<p>Bem, esquece tudo aquilo porque aquilo j√° n√£o nos pertence mais. Agora n√≥s devemos fazer assim:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>$autoloader<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">pushAutoloader</span>(<span style="color:#66d9ef">array</span>(<span style="color:#e6db74">&#39;ezcBase&#39;</span>, <span style="color:#e6db74">&#39;autoload&#39;</span>), <span style="color:#e6db74">&#39;ezc&#39;</span>);
</span></span></code></pre></div><h2 id="concluindo">Concluindo</h2>
<p>Apesar de ter havido uma quebra de compatibilidade com vers√µes anteriores estas modifica√ß√µes foram bem legais porque
facilitam no nosso dia-a-dia e com isso nossa produtividade aumenta.</p>
<p>Ainda existem outros aspectos que poderiam ser abordados mas que n√£o julguei importantes para o post, como retornar
todos os namespaces registrados, excluir um determinado namespace do autoloader e etc.</p>
<p>Outro ponto que achei bacana nesse novo objeto √© que n√≥s podemos modificar as configura√ß√µes de autoloading em outros
locais diferentes do bootstrapper como por exemplo num controller.</p>
<p>Espero que gostem da dica.</p>
<p>Abra√ßos.</p>

            </div>
        </div>
    </article>
    <div>
        <div>
            <div>
                
                <a href="http://localhost:1313/posts/herois-brasileiros-esquecidos-ou-quase/">&#8592; Her√≥is Brasileiros esquecidos ou quase</a>
                
                |
                
                <a href="http://localhost:1313/posts/slides-palestra-zf-phpsc-conf/">Slides da Palestra sobre Zend Framework no PHPSC Conf &#8594;</a>
                
            </div>
        </div>
    </div>
</section>

</main><footer class="glitch-zone" role="contentinfo">
    <div class="footer-content">
        <div class="copyright">
            <p><small>&copy; 1996-2025 Adler Medrado</small></p>
        </div>
        <div class="gpg_signed_info">
            <div class="gpg-callout">
                <div class="gpg-callout__icon" aria-hidden="true">üîè</div>
                <div class="gpg-callout__text">
                    <p class="gpg-callout__title">All pages are PGP signed.</p>
                    <p class="gpg-callout__subtitle">Learn how to verify my PGP signature <a class="gpg-callout__link" href="/posts/verify-signatures">here</a>.</p>
                </div>
            </div>
            <p>
                <em>Privacy policy: this website employs no tracking.</em>
            </p>
            <p>
                <span class="badge-a-plus"><a href="https://developer.mozilla.org/en-US/observatory/analyze?host=adlermedrado.com.br" aria-label="Mozilla Observatory Security Rating: A+">A+</a></span>
                <span class="badge-description">Mozilla Observatory Security Rating</span>
            </p>
        </div>
    </div>
</footer>
</body>
</html>
